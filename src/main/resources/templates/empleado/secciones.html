<!DOCTYPE html>

<html xmlns:th="http://www.thymeleaf.org">
    <head th:replace="~{layout/plantilla :: head}">
        <title>TechShop</title>
        <meta charset="UTF-8"/>
    </head>
    <body>
        <!-- Seccion para crear el menu de lado en empleados -->
        <section th:fragment="menuLado">
            <div class="aside">
                <aside>
                    <ul>
                        <li class="menu seleccionado"><a class="menu-link"><i class="fas fa-users"></i>Empleados</a></li>
                        <li class="menu"><a class="menu-link"><i class="fas fa-shopping-cart"></i>Productos</a></li>
                        <li class="menu"><a class="menu-link"><i class="fas fa-archive"></i>Cajas</a></li>
                    </ul>
                </aside>
            </div>
        </section>

        <!-- Seccion para crear el menu de lado en empleados agregar o editar -->
        <section th:fragment="menuEdiciones">
            <div class="aside">
                <aside>
                    <ul>
                        <li class="menu seleccionado"><a class="menu-link"><i class="fas fa-users"></i>Empleados</a></li>
                    </ul>
                </aside>
            </div>
        </section>
        <!-- Muestra el inicio de la seccion de empleado con la lista de los empleados agregados -->
        <section th:fragment="inicioEmpleado" id="empleados">
            <div class="contenido">
                <div class="container">
                    <div class="row">
                        <div class="col-md-11">
                            <div class="card">
                                <article>
                                    <div th:if="${empleados != null and !empleados.empty}">
                                        <div class="card-header subtitulo">
                                            <h2>Lista de Empleados</h2></div>
                                        <br>
                                        <hr>
                                        <table class="table table-striped table-hover">
                                            <thead class="table-success">
                                                <tr>
                                                    <th>Nombre</th>
                                                    <th>Apellidos</th>
                                                    <th>Contacto</th>
                                                    <th>Salario</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr th:each="empleado : ${empleados}">
                                                    <td>[[${empleado.nombre}]]</td>
                                                    <td>[[${empleado.apellidos}]]</td>
                                                    <td>[[${empleado.contacto}]]</td>
                                                    <td>[[${empleado.salario}]]</td>
                                                    <td><a th:href="@{/empleado/eliminar/} + ${empleado.idEmpleado}"
                                                           class="btn btn-secondary btn-circular">
                                                            <i class="fas fa-trash"></i></a>
                                                        <a th:href="@{/empleado/editar/} + ${empleado.idEmpleado}"
                                                           class="btn btn-success btn-circular">
                                                            <i class="fas fa-pencil"></i></a>
                                                    </td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                    <div th:if="${empleados == null or empleados.empty}">
                                        <div class="titulo">
                                            <h3>¡Lo sentimos! No existen empleados que mostrar</h3>
                                        </div>
                                        <p>Puede agregar un nuevo empleado presionando el botón de + que se le muestra en pantalla.</p>
                                    </div>
                            </div>
                        </div>
                    </div>
                    <div class="d-grid gap-2 d-md-flex justify-content-md-end">
                        <a th:href="@{/empleado/nuevo}"
                           class="btn btn-circular">
                            <i class="fas fa-plus"></i></a>
                    </div>
                </div>
            </div>
        </section>

        <section th:fragment="agregarEmpleado">
            <div class="contenido">
                <div class="container">
                    <h2 class="subtitulo">Agregar empleado</h2>
                    <br>
                    <hr>
                    <form th:action="@{/empleado/guardar}"
                          method="post"
                          th:object="${empleado}"
                          class="was-validated">
                        <input type="hidden" 
                               name="idEmpleado" 
                               th:field="*{idEmpleado}"/>
                        <div>
                            <label>Nombre</label><br>
                            <input type="text" 
                                   name="nombre" 
                                   value="" 
                                   th:field="*{nombre}"
                                   size="30"
                                   required="true"/>
                        </div>
                        <br>
                        <label class="label-edit">Apellidos</label><br>
                        <input type="text" 
                               name="apellidos" 
                               value="" 
                               th:field="*{apellidos}"
                               size="40"
                               required="true"/>
                        <br>
                        <label class="label-edit">Contacto</label><br>
                        <input type="tel" 
                               name="contacto" 
                               value="" 
                               th:field="*{contacto}"
                               size="15"
                               required="true"/>
                        <br>
                        <label class="label-edit">Salario</label><br>
                        <input type="number" 
                               name="salario" 
                               value="" 
                               th:field="*{salario}"
                               size="15"
                               required="true"/>
                        <br>
                        <button class="btn btn-form" type="submit">Agregar</button>
                        <a class="btn btn-secondary">Cancelar</a>
                    </form>  
                    <hr>
                </div>
            </div>
        </section>
        <!-- Muestra el inicio de la seccion de empleado con la lista de los empleados agregados -->
        <section th:fragment="editarEmpleado">
            <section th:replace="~{empleado/secciones :: menuEdiciones}"/>
            <div class="contenido">
                <div class="container">
                    <h2 class="subtitulo">Editar empleado</h2>
                    <br>
                    <hr>
                    <form th:action="@{/empleado/guardar}"
                          method="post"
                          th:object="${empleado}"
                          class="was-validated">
                        <input type="hidden" 
                               name="idEmpleado" 
                               th:field="*{idEmpleado}"/>
                        <label class="label-edit">Nombre</label><br>
                        <input type="text" 
                               name="nombre" 
                               value="" 
                               th:field="*{nombre}"
                               size="30" />
                        <br>
                        <label class="label-edit">Apellidos</label><br>
                        <input type="text" 
                               name="apellidos" 
                               value="" 
                               th:field="*{apellidos}"
                               size="40" />
                        <br>
                        <label class="label-edit">Contacto</label><br>
                        <input type="tel" 
                               name="contacto" 
                               value="" 
                               th:field="*{contacto}"
                               size="15" />
                        <br>
                        <label class="label-edit">Salario</label><br>
                        <input type="number" 
                               name="salario" 
                               value="" 
                               th:field="*{salario}"
                               size="15" />
                        <br>
                        <button class="btn btn-form" type="submit">Finalizar edición</button>
                        <a class="btn btn-secondary">Cancelar edición</a>
                    </form>  
                    <hr>
                </div>
            </div>
        </section>
        <section>

        </section>
    </body>
</html>
