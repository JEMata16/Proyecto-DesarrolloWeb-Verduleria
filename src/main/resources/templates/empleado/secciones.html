<!DOCTYPE html>

<html xmlns:th="http://www.thymeleaf.org">
    <head th:replace="~{layout/plantilla :: head}">
        <title>TechShop</title>
        <meta charset="UTF-8"/>
    </head>
    <body>
        <!-- Seccion para crear el menu de lado en empleados -->
        <section th:fragment="menuLado">
            <div class="aside">
                <aside>
                    <ul>
                        <li class="menu seleccionado"><a class="menu-link" th:href="@{/empleado/empleados}"><i class="fas fa-users"></i>[[#{inicio.empleados}]]</a></li>
                        <li class="menu"><a class="menu-link" th:href="@{/producto/productos}"><i class="fas fa-shopping-cart"></i>[[#{inicio.productos}]]</a></li>
                        <li class="menu"><a class="menu-link" th:href="@{/ventas/cajas}"><i class="fas fa-archive"></i>[[#{inicio.cajas}]]</a></li>
                    </ul>
                </aside>
            </div>
        </section>

        <!-- Seccion para crear el menu de lado en empleados agregar o editar -->
        <section th:fragment="menuEdiciones">
            <div class="aside">
                <aside>
                    <ul>
                        <li class="menu seleccionado"><a class="menu-link"><i class="fas fa-users"></i>[[#{inicio.empleados}]]</a></li>
                    </ul>
                </aside>
            </div>
        </section>
        <!-- Muestra el inicio de la seccion de empleado con la lista de los empleados agregados -->
        <section th:fragment="inicioEmpleado" id="empleados">
            <div class="contenido">
                <div class="container">
                    <div class="row">
                        <div class="col-md-11">
                            <div th:if="${empleados != null and !empleados.empty}">
                                <div class="titulo"><h2>[[#{empleados.lista}]]</h2></div>
                                <br>
                                <div class="card border border-white">
                                    <table class="table">
                                        <thead class="table-hcustom">
                                            <tr>
                                                <th>[[#{empleados.nombre}]]</th>
                                                <th>[[#{empleados.apellidos}]]</th>
                                                <th>[[#{empleados.contacto}]]</th>
                                                <th>[[#{empleados.salario}]]</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr th:each="empleado : ${empleados}">
                                                <td>[[${empleado.nombre}]]</td>
                                                <td>[[${empleado.apellidos}]]</td>
                                                <td>[[${empleado.contacto}]]</td>
                                                <td>[[${empleado.salario}]]</td>
                                                <td class="border-start border-0">
                                                    <a th:href="@{/empleado/editar/} + ${empleado.idEmpleado}"
                                                       class="btn btn-success btn-listas-editar">
                                                        <i class="fas fa-pencil"></i></a>
                                                    <a th:href="@{/empleado/eliminar/} + ${empleado.idEmpleado}"
                                                       class="btn btn-secondary btn-listas-eliminar">
                                                        <i class="fas fa-trash"></i></a>
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                            <div th:if="${empleados == null or empleados.empty}">
                                <div class="titulo ">
                                    <h3>[[#{empleados.titulo}]]</h3>
                                </div>
                                <p>[[#{empleados.mensaje}]]</p>
                            </div>
                        </div>
                    </div>
                    <div class="d-grid gap-2 d-md-flex justify-content-md-end">
                        <a th:href="@{/empleado/nuevo}"
                           class="btn btn-circular">
                            <i class="fas fa-plus"></i></a>
                    </div>
                </div>
            </div>
        </section>

        <section th:fragment="agregarEmpleado">
            <div class="contenido">
                <div class="container">
                    <h2 class="subtitulo">[[#{empleados.agregar}]]</h2>
                    <br>
                    <hr>
                    <form th:action="@{/empleado/guardar}"
                          method="post"
                          th:object="${empleado}"
                          class="was-validated">
                        <input type="hidden" 
                               name="idEmpleado" 
                               th:field="*{idEmpleado}"/>
                        <div>
                            <label class="label-edit">[[#{empleados.nombre}]]</label><br>
                            <input type="text" 
                                   name="nombre" 
                                   value="" 
                                   th:field="*{nombre}"
                                   size="30"
                                   required="true"/>
                        </div>
                        <br>
                        <div>
                            <label class="label-edit">[[#{empleados.apellidos}]]</label><br>
                            <input type="text" 
                                   name="apellidos" 
                                   value="" 
                                   th:field="*{apellidos}"
                                   size="40"
                                   required="true"/>
                        </div>
                        <br>
                        <div>
                            <label class="label-edit">[[#{empleados.contacto}]]</label><br>
                            <input type="text" 
                                   name="contacto" 
                                   value="" 
                                   th:field="*{contacto}"
                                   size="15"
                                   required="true"/>
                        </div>
                        <br>
                        <div>
                            <label class="label-edit">[[#{empleados.salario}]]</label><br>
                            <input type="text" 
                                   name="salario" 
                                   value="" 
                                   th:field="*{salario}"
                                   size="15"
                                   required="true"/>
                        </div>
                        <br>
                        <div class="gap-10 text-center">
                            <button class="btn btn-form btn-lg" type="submit">[[#{empleados.agregar}]]</button>
                            <a class="btn btn-secondary btn-cancelar btn-lg" 
                               th:href="@{/empleado/empleados}">[[#{empleados.cancelar}]]</a>
                        </div>
                    </form>  
                    <hr>
                </div>
            </div>
        </section>
        <!-- Muestra el inicio de la seccion de empleado con la lista de los empleados agregados -->
        <section th:fragment="editarEmpleado">
            <section th:replace="~{empleado/secciones :: menuEdiciones}"/>
            <div class="contenido">
                <div class="container">
                    <h2 class="subtitulo">[[#{empleados.editar}]]</h2>
                    <br>
                    <hr>
                    <form th:action="@{/empleado/guardar}"
                          method="post"
                          th:object="${empleado}"
                          class="was-validated">
                        <input type="hidden" 
                               name="idEmpleado" 
                               th:field="*{idEmpleado}"/>
                        <div>
                            <label class="label-edit">[[#{empleados.nombre}]]</label><br>
                            <input type="text" 
                                   name="nombre" 
                                   value="" 
                                   th:field="*{nombre}"
                                   size="30" />
                        </div>
                        <br>
                        <div>
                            <label class="label-edit">[[#{empleados.apellidos}]]</label><br>
                            <input type="text" 
                                   name="apellidos" 
                                   value="" 
                                   th:field="*{apellidos}"
                                   size="40" />
                        </div>
                        <br>
                        <div>
                            <label class="label-edit">[[#{empleados.contacto}]]</label><br>
                            <input type="text" 
                                   name="contacto" 
                                   value="" 
                                   th:field="*{contacto}"
                                   size="15" />
                        </div>
                        <br>
                        <label class="label-edit">[[#{empleados.salario}]]</label><br>
                        <input type="text" 
                               name="salario" 
                               value="" 
                               th:field="*{salario}"
                               size="15" />
                        <br>
                        <div class="gap-10 text-center">
                            <button class="btn btn-form btn-lg" type="submit">[[#{empleados.finalizar}]]</button>
                            <a class="btn btn-secondary btn-cancelar btn-lg" 
                               th:href="@{/empleado/empleados}">[[#{empleados.canEdicion}]]</a>
                        </div>
                    </form>  
                    <hr>
                </div>
            </div>
        </section>            
    </body>
</html>
